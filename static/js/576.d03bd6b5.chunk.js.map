{"version":3,"file":"static/js/576.d03bd6b5.chunk.js","mappings":"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","sources":["components/MoviesList/MovieList.styled.jsx","components/MoviesList/MoviesList.tsx","components/SearchBox/SearchBox.styled.jsx","components/SearchBox/SearchBox.tsx","pages/Movies.tsx","services/api.js"],"sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const List = styled.ul`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nexport const Item = styled.li`\r\n  transition: transform 500ms;\r\n  will-change: transform;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.12), 0px 4px 4px rgba(0, 0, 0, 0.06),\r\n    1px 4px 6px rgba(0, 0, 0, 0.16);\r\n\r\n  &:hover,\r\n  &:focus {\r\n    transform: scale(1.03);\r\n  }\r\n`;\r\n\r\nexport const Thumb = styled.div`\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  width: 300px;\r\n  height: 450px;\r\n`;\r\n","import { Link, useLocation } from \"react-router-dom\";\r\nimport { List, Item, Thumb } from \"./MovieList.styled\";\r\n\r\ninterface IProps {\r\n  movies: {\r\n    id: number;\r\n    poster_path: string;\r\n    title: string;\r\n  }[];\r\n}\r\n\r\nconst MoviesList: React.FC<IProps> = ({ movies }) => {\r\n  const location = useLocation();\r\n  return (\r\n    <List>\r\n      {movies.map(({ id, poster_path, title }) => (\r\n        <Item key={id}>\r\n          <Link to={`/movies/${id}`} state={{ from: location }}>\r\n            <Thumb>\r\n              <img\r\n                src={\r\n                  poster_path\r\n                    ? `https://image.tmdb.org/t/p/w500${poster_path}`\r\n                    : `https://via.placeholder.com/300x450.png?text=${title}`\r\n                }\r\n                alt={title}\r\n              />\r\n            </Thumb>\r\n          </Link>\r\n        </Item>\r\n      ))}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default MoviesList;\r\n\r\n","import styled from 'styled-components';\r\n\r\nexport const FormWrap = styled.form`\r\n  display: flex;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  max-width: 400px;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n  border: 1px solid;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  border-radius: 3px;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n\r\nexport const FormBtn = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-color: transparent;\r\n  transition: color 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n\r\n  &:hover {\r\n    color: orangered;\r\n  }\r\n`;\r\n","import  { FormEvent } from 'react';\r\nimport { BsSearch } from \"react-icons/bs\";\r\nimport { FormWrap, Input, FormBtn } from \"./SearchBox.styled\";\r\n\r\ninterface IProps {\r\n  updateQueryString: (query: string) => void;\r\n}\r\n\r\ninterface CustomForm extends HTMLFormElement {  \r\n readonly elements: CustomElements;\r\n}\r\n\r\ninterface CustomElements extends HTMLFormControlsCollection {\r\n  readonly query: HTMLInputElement;\r\n}\r\n\r\nconst SearchBox: React.FC<IProps> = ({ updateQueryString }) => {\r\n  const handleSubmit = (e:FormEvent<CustomForm>)=> {\r\n\r\n    e.preventDefault();\r\n    const form = e.currentTarget;\r\n    updateQueryString(form.elements.query.value);\r\n    form.reset();\r\n  };\r\n\r\n  return (\r\n    <FormWrap onSubmit={handleSubmit}>\r\n      <Input type=\"text\" name=\"query\" placeholder=\"Search movie\" />\r\n      <FormBtn type=\"submit\">\r\n        <BsSearch size=\"1.5em\" />\r\n      </FormBtn>\r\n    </FormWrap>\r\n  );\r\n};\r\n\r\n\r\nexport default SearchBox;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport  SearchBox  from \"../components/SearchBox/SearchBox\";\r\nimport  MoviesList  from \"../components/MoviesList/MoviesList\";\r\nimport { searchMovie } from \"../services/api\";\r\nimport toast from \"react-hot-toast\";\r\n\r\n\r\nconst Movies: React.FC = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const query = searchParams.get(\"query\") ?? \"\";\r\n\r\n  useEffect(() => {\r\n    if (query === \"\") return;\r\n    const controller = new AbortController();\r\n    const signal = controller.signal;\r\n    const fetchData = async () => {\r\n      try {\r\n        const movies = await searchMovie(query, signal);\r\n        if (!movies.total_results) {\r\n          return toast.error(\"Enter correct query\");\r\n        }\r\n\r\n        setMovies(movies.results);\r\n      } catch (error: any) {\r\n        if (error.name === \"CanceledError\") return;\r\n        toast.error(\"Oops, something went wrong\");\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    return () => {\r\n      controller.abort();\r\n    };\r\n  }, [query]);\r\n\r\n  const updateQueryString = (query: string) => {\r\n    const nextParams: { query?: string } = query !== \"\" ? { query } : {};\r\n\r\n    setSearchParams(nextParams);\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      <SearchBox updateQueryString={updateQueryString} />\r\n      <MoviesList movies={movies} />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Movies;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\naxios.defaults.params = {\r\n  api_key: 'b60c32a6f6f2663f6a35c755ff35b4cc',\r\n};\r\n\r\nexport const getTrendingMovies = async signal => {\r\n  const response = await axios.get(`/trending/movie/day`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getMovieDetails = async (movieId, signal) => {\r\n  const response = await axios.get(`/movie/${movieId}`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const searchMovie = async (query, signal) => {\r\n  const response = await axios.get(`/search/movie?query=${query}`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getMovieCredits = async (movieId, signal) => {\r\n  const response = await axios.get(`/movie/${movieId}/credits`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getMovieReviews = async (movieId, signal) => {\r\n  const response = await axios.get(`/movie/${movieId}/reviews`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n"],"names":["List","styled","_templateObject","_taggedTemplateLiteral","Item","_templateObject2","Thumb","_templateObject3","_ref","movies","location","useLocation","_jsx","children","map","_ref2","id","poster_path","title","Link","to","concat","state","from","src","alt","FormWrap","Input","FormBtn","updateQueryString","_jsxs","onSubmit","e","preventDefault","form","currentTarget","elements","query","value","reset","type","name","placeholder","BsSearch","size","_searchParams$get","_useState","useState","_useState2","_slicedToArray","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","useEffect","controller","AbortController","signal","fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_movies","wrap","_context","prev","next","searchMovie","sent","total_results","abrupt","toast","results","t0","stop","apply","arguments","abort","SearchBox","MoviesList","axios","api_key","getTrendingMovies","response","data","_x","getMovieDetails","_callee2","movieId","_context2","_x2","_x3","_ref3","_callee3","_context3","_x4","_x5","getMovieCredits","_ref4","_callee4","_context4","_x6","_x7","getMovieReviews","_ref5","_callee5","_context5","_x8","_x9"],"sourceRoot":""}