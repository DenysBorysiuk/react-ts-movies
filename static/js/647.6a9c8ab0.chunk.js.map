{"version":3,"file":"static/js/647.6a9c8ab0.chunk.js","mappings":"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","sources":["components/MoviesList/MovieList.styled.tsx","components/MoviesList/MoviesList.tsx","components/Title/Title.styled.tsx","components/Title/Title.tsx","pages/Home.tsx","services/api.tsx"],"sourcesContent":["import styled from \"@emotion/styled\";\r\n\r\nexport const List = styled.ul`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const Item = styled.li`\r\n  transition: transform 500ms;\r\n  will-change: transform;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.12), 0px 4px 4px rgba(0, 0, 0, 0.06),\r\n    1px 4px 6px rgba(0, 0, 0, 0.16);\r\n\r\n  &:hover,\r\n  &:focus {\r\n    transform: scale(1.03);\r\n  }\r\n`;\r\n\r\nexport const Thumb = styled.div`\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  width: 300px;\r\n  height: 450px;\r\n`;\r\n","import { Link, useLocation } from 'react-router-dom';\r\nimport { List, Item, Thumb } from './MovieList.styled';\r\n\r\ntype Movie = {\r\n  id: number;\r\n  poster_path: string;\r\n  title: string;\r\n};\r\n\r\ntype Props = {\r\n  movies: Movie[];\r\n};\r\n\r\nconst MoviesList = ({ movies }: Props) => {\r\n  const location = useLocation();\r\n  return (\r\n    <List>\r\n      {movies.map(({ id, poster_path, title }) => (\r\n        <Item key={id}>\r\n          <Link to={`/movie/${id}`} state={{ from: location }}>\r\n            <Thumb>\r\n              <img\r\n                src={\r\n                  poster_path\r\n                    ? `https://image.tmdb.org/t/p/w500${poster_path}`\r\n                    : `https://via.placeholder.com/300x450.png?text=${title}`\r\n                }\r\n                alt={title}\r\n              />\r\n            </Thumb>\r\n          </Link>\r\n        </Item>\r\n      ))}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default MoviesList;\r\n","import styled from '@emotion/styled';\r\n\r\ntype BtnType = {\r\n  active?: boolean;\r\n};\r\n\r\nexport const Button = styled.button<BtnType>`\r\n  display: inline-block;\r\n  padding: 8px 16px;\r\n  border-radius: 4px;\r\n  border: none;\r\n  background-color: transparent;\r\n  color: ${props => (props.active ? 'orangered' : 'black')};\r\n  font-weight: 500;\r\n  text-transform: uppercase;\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n  transition: color 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  &:hover {\r\n    color: orangered;\r\n  }\r\n`;\r\n","import { Button } from './Title.styled';\r\n\r\ntype Props = {\r\n  timePeriod: string;\r\n  setTimePeriod: (timePeriod: string) => void;\r\n};\r\n\r\nconst Title = ({ timePeriod, setTimePeriod }: Props) => {\r\n  return (\r\n    <div>\r\n      <h1>Trending movies</h1>\r\n      <Button onClick={() => setTimePeriod('day')} active={timePeriod === 'day'}>\r\n        today\r\n      </Button>\r\n      /\r\n      <Button onClick={() => setTimePeriod('week')} active={timePeriod === 'week'}>\r\n        week\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Title;\r\n","import { useState, useEffect, ChangeEvent } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport MoviesList from '../components/MoviesList/MoviesList';\r\nimport { getTrendingMovies } from '../services/api';\r\nimport Title from '../components/Title/Title';\r\nimport { Pagination } from '@mui/material';\r\nimport Loader from '../components/Loader/Loader';\r\n\r\ntype Movie = {\r\n  id: number;\r\n  poster_path: string;\r\n  title: string;\r\n};\r\n\r\nconst Home = () => {\r\n  const [movies, setMovies] = useState<Movie[]>([]);\r\n  const [timePeriod, setTimePeriod] = useState('day');\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n    const signal = controller.signal;\r\n    setIsLoading(true);\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const movies = await getTrendingMovies(timePeriod, page, signal);\r\n        setMovies(movies.results);\r\n        setTotalPages(movies.total_pages);\r\n      } catch (error: any) {\r\n        if (error.name === 'CanceledError') return;\r\n        toast.error('Oops, something went wrong');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    return () => {\r\n      controller.abort();\r\n    };\r\n  }, [page, timePeriod]);\r\n\r\n  const handlePageChange = (event: ChangeEvent<unknown>, page: number) => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: 'smooth',\r\n    });\r\n    setPage(page);\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      <Title timePeriod={timePeriod} setTimePeriod={setTimePeriod} />\r\n      {isLoading ? <Loader /> : <MoviesList movies={movies} />}\r\n      {totalPages > 1 && (\r\n        <Pagination\r\n          page={page}\r\n          onChange={handlePageChange}\r\n          count={totalPages}\r\n          size=\"large\"\r\n          sx={{\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            marginBottom: '20px',\r\n          }}\r\n        />\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\naxios.defaults.params = {\r\n  api_key: 'b60c32a6f6f2663f6a35c755ff35b4cc',\r\n};\r\n\r\nexport const getTrendingMovies = async (timePeriod: string, page: number, signal: AbortSignal) => {\r\n  const response = await axios.get(`/trending/movie/${timePeriod}?page=${page}`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getMovieDetails = async (movieId: string, signal: AbortSignal) => {\r\n  const response = await axios.get(`/movie/${movieId}`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const searchMovie = async (query: string, page: number, signal: AbortSignal) => {\r\n  const response = await axios.get(`/search/movie?query=${query}&page=${page}`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getMovieCredits = async (movieId: string, signal: AbortSignal) => {\r\n  const response = await axios.get(`/movie/${movieId}/credits`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getMovieReviews = async (movieId: string, signal: AbortSignal) => {\r\n  const response = await axios.get(`/movie/${movieId}/reviews`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n"],"names":["List","styled","_templateObject","_taggedTemplateLiteral","Item","_templateObject2","Thumb","_templateObject3","_ref","movies","location","useLocation","_jsx","children","map","_ref2","id","poster_path","title","Link","to","concat","state","from","src","alt","Button","props","active","timePeriod","setTimePeriod","_jsxs","onClick","_useState","useState","_useState2","_slicedToArray","setMovies","_useState3","_useState4","_useState5","_useState6","page","setPage","_useState7","_useState8","totalPages","setTotalPages","_useState9","_useState10","isLoading","setIsLoading","useEffect","controller","AbortController","signal","fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_movies","wrap","_context","prev","next","getTrendingMovies","sent","results","total_pages","t0","name","abrupt","toast","finish","stop","apply","arguments","abort","Title","Loader","MoviesList","Pagination","onChange","event","window","scrollTo","top","left","behavior","count","size","sx","display","justifyContent","marginBottom","axios","api_key","response","data","_x","_x2","_x3","getMovieDetails","_callee2","movieId","_context2","_x4","_x5","searchMovie","_ref3","_callee3","query","_context3","_x6","_x7","_x8","getMovieCredits","_ref4","_callee4","_context4","_x9","_x10","getMovieReviews","_ref5","_callee5","_context5","_x11","_x12"],"sourceRoot":""}