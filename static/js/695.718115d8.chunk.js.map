{"version":3,"file":"static/js/695.718115d8.chunk.js","mappings":"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","sources":["components/MoviesList/MovieList.styled.tsx","components/MoviesList/MoviesList.tsx","components/SearchBox/SearchBox.styled.tsx","components/SearchBox/SearchBox.tsx","pages/Search.tsx","services/api.tsx"],"sourcesContent":["import styled from \"@emotion/styled\";\r\n\r\nexport const List = styled.ul`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const Item = styled.li`\r\n  transition: transform 500ms;\r\n  will-change: transform;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.12), 0px 4px 4px rgba(0, 0, 0, 0.06),\r\n    1px 4px 6px rgba(0, 0, 0, 0.16);\r\n\r\n  &:hover,\r\n  &:focus {\r\n    transform: scale(1.03);\r\n  }\r\n`;\r\n\r\nexport const Thumb = styled.div`\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  width: 300px;\r\n  height: 450px;\r\n`;\r\n","import { Link, useLocation } from 'react-router-dom';\r\nimport { List, Item, Thumb } from './MovieList.styled';\r\n\r\ntype Movie = {\r\n  id: number;\r\n  poster_path: string;\r\n  title: string;\r\n};\r\n\r\ntype Props = {\r\n  movies: Movie[];\r\n};\r\n\r\nconst MoviesList = ({ movies }: Props) => {\r\n  const location = useLocation();\r\n  return (\r\n    <List>\r\n      {movies.map(({ id, poster_path, title }) => (\r\n        <Item key={id}>\r\n          <Link to={`/movie/${id}`} state={{ from: location }}>\r\n            <Thumb>\r\n              <img\r\n                src={\r\n                  poster_path\r\n                    ? `https://image.tmdb.org/t/p/w500${poster_path}`\r\n                    : `https://via.placeholder.com/300x450.png?text=${title}`\r\n                }\r\n                alt={title}\r\n              />\r\n            </Thumb>\r\n          </Link>\r\n        </Item>\r\n      ))}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default MoviesList;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const FormWrap = styled.form`\r\n  display: flex;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  max-width: 400px;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n  border: 1px solid;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  border-radius: 3px;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n\r\nexport const FormBtn = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-color: transparent;\r\n  transition: color 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n\r\n  &:hover {\r\n    color: orangered;\r\n  }\r\n`;\r\n","import { FormEvent } from 'react';\r\nimport { BsSearch } from 'react-icons/bs';\r\nimport { FormWrap, Input, FormBtn } from './SearchBox.styled';\r\n\r\ntype Props = {\r\n  updateQueryString: (query: string) => void;\r\n};\r\n\r\nconst SearchBox = ({ updateQueryString }: Props) => {\r\n  const handleSubmit = (event: FormEvent) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget as HTMLFormElement;\r\n\r\n    updateQueryString(form.query.value);\r\n    form.reset();\r\n  };\r\n\r\n  return (\r\n    <FormWrap onSubmit={handleSubmit}>\r\n      <Input type=\"text\" name=\"query\" placeholder=\"Search movie\" />\r\n      <FormBtn type=\"submit\">\r\n        <BsSearch size=\"1.5em\" />\r\n      </FormBtn>\r\n    </FormWrap>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import { useState, useEffect } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport SearchBox from '../components/SearchBox/SearchBox';\r\nimport MoviesList from '../components/MoviesList/MoviesList';\r\nimport { searchMovie } from '../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport { Pagination } from '@mui/material';\r\nimport Loader from '../components/Loader/Loader';\r\n\r\nconst Movies = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const query = searchParams.get('query') ?? '';\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (query === '') return;\r\n    const controller = new AbortController();\r\n    const signal = controller.signal;\r\n    setIsLoading(true);\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const movies = await searchMovie(query, page, signal);\r\n        if (!movies.total_results) {\r\n          return toast.error('Enter correct query');\r\n        }\r\n\r\n        setMovies(movies.results);\r\n        setTotalPages(movies.total_pages);\r\n      } catch (error: any) {\r\n        if (error.name === 'CanceledError') return;\r\n        toast.error('Oops, something went wrong');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    return () => {\r\n      controller.abort();\r\n    };\r\n  }, [page, query]);\r\n\r\n  const updateQueryString = (query: string) => {\r\n    const nextParams: { query?: string } = query !== '' ? { query } : {};\r\n\r\n    setSearchParams(nextParams);\r\n  };\r\n\r\n  const handlePageChange = (e: any, page: number) => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: 'smooth',\r\n    });\r\n    setPage(page);\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      <SearchBox updateQueryString={updateQueryString} />\r\n      {isLoading ? <Loader /> : <MoviesList movies={movies} />}\r\n      {totalPages > 1 && (\r\n        <Pagination\r\n          page={page}\r\n          onChange={handlePageChange}\r\n          count={totalPages}\r\n          size=\"large\"\r\n          sx={{\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            marginBottom: '20px',\r\n          }}\r\n        />\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Movies;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\naxios.defaults.params = {\r\n  api_key: 'b60c32a6f6f2663f6a35c755ff35b4cc',\r\n};\r\n\r\nexport const getTrendingMovies = async (timePeriod: string, page: number, signal: AbortSignal) => {\r\n  const response = await axios.get(`/trending/movie/${timePeriod}?page=${page}`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getMovieDetails = async (movieId: string, signal: AbortSignal) => {\r\n  const response = await axios.get(`/movie/${movieId}`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const searchMovie = async (query: string, page: number, signal: AbortSignal) => {\r\n  const response = await axios.get(`/search/movie?query=${query}&page=${page}`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getMovieCredits = async (movieId: string, signal: AbortSignal) => {\r\n  const response = await axios.get(`/movie/${movieId}/credits`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getMovieReviews = async (movieId: string, signal: AbortSignal) => {\r\n  const response = await axios.get(`/movie/${movieId}/reviews`, {\r\n    signal,\r\n  });\r\n  return response.data;\r\n};\r\n"],"names":["List","styled","_templateObject","_taggedTemplateLiteral","Item","_templateObject2","Thumb","_templateObject3","_ref","movies","location","useLocation","_jsx","children","map","_ref2","id","poster_path","title","Link","to","concat","state","from","src","alt","FormWrap","Input","FormBtn","updateQueryString","_jsxs","onSubmit","event","preventDefault","form","currentTarget","query","value","reset","type","name","placeholder","BsSearch","size","_searchParams$get","_useState","useState","_useState2","_slicedToArray","setMovies","_useState3","_useState4","page","setPage","_useState5","_useState6","totalPages","setTotalPages","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","_useState7","_useState8","isLoading","setIsLoading","useEffect","controller","AbortController","signal","fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_movies","wrap","_context","prev","next","searchMovie","sent","total_results","abrupt","toast","results","total_pages","t0","finish","stop","apply","arguments","abort","SearchBox","Loader","MoviesList","Pagination","onChange","e","window","scrollTo","top","left","behavior","count","sx","display","justifyContent","marginBottom","axios","api_key","getTrendingMovies","timePeriod","response","data","_x","_x2","_x3","getMovieDetails","_callee2","movieId","_context2","_x4","_x5","_ref3","_callee3","_context3","_x6","_x7","_x8","getMovieCredits","_ref4","_callee4","_context4","_x9","_x10","getMovieReviews","_ref5","_callee5","_context5","_x11","_x12"],"sourceRoot":""}